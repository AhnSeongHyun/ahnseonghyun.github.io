<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- SEO -->
    <title>이 블로그는 마크다운 기반 정적 블로그로 전환되었습니다. - ASH84</title>
    <meta name="description" content="몇일 전에 Notion API를 이용해서 노션의 글을 블로그에 자동으로 연동하는 얘기가 나와서 찾아보다가, 개인 블로그를 개편하고" />
    <meta name="author" content="ASH84" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://ash84.io/2025/07/08/move-to-markdown-based-blog/" />

    <!-- Open Graph -->
    <meta property="og:site_name" content="ASH84"/>
    <meta property="og:title" content="이 블로그는 마크다운 기반 정적 블로그로 전환되었습니다."/>
    <meta property="og:description" content="몇일 전에 Notion API를 이용해서 노션의 글을 블로그에 자동으로 연동하는 얘기가 나와서 찾아보다가, 개인 블로그를 개편하고"/>
    <meta property="og:url" content="https://ash84.io/2025/07/08/move-to-markdown-based-blog/"/>
    <meta property="og:locale" content="ko_KR"/>
    <meta property="og:type" content="article"/>
    <meta property="article:published_time" content="" />
    <meta property="article:author" content="https://ash84.io/" />
    
    
        
    <meta property="og:image" content="https://ash84.io/2025/07/08/move-to-markdown-based-blog/image.png"/>
        
    
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@sh84ahn"/>
    <meta name="twitter:creator" content="@sh84ahn"/>
    <meta name="twitter:title" content="이 블로그는 마크다운 기반 정적 블로그로 전환되었습니다."/>
    <meta name="twitter:description" content="몇일 전에 Notion API를 이용해서 노션의 글을 블로그에 자동으로 연동하는 얘기가 나와서 찾아보다가, 개인 블로그를 개편하고"/>
    
        
    <meta name="twitter:image" content="https://ash84.io/2025/07/08/move-to-markdown-based-blog/image.png"/>
        
    

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "이 블로그는 마크다운 기반 정적 블로그로 전환되었습니다.",
        "description": "몇일 전에 Notion API를 이용해서 노션의 글을 블로그에 자동으로 연동하는 얘기가 나와서 찾아보다가, 개인 블로그를 개편하고",
        "author": {
            "@type": "Person",
            "name": "",
            "url": "https://ash84.io"
        },
        "datePublished": "",
        "dateModified": "",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://ash84.io/2025/07/08/move-to-markdown-based-blog"
        },
        
            
        "image": "https://ash84.io/2025/07/08/move-to-markdown-based-blog/image.png",
            
        
        "publisher": {
            "@type": "Organization",
            "name": "ASH84"
        }
    }
    </script>

    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-71946262-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-71946262-1');
    </script>

    <!-- Fonts & Styles -->
    <link rel="stylesheet" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.5/dist/web/static/pretendard.css" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>◼</text></svg>">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.6.0/build/styles/github.min.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/post.css"/>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.6.0/build/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</head>
<body>
    <header class="post-header">
        <nav class="nav">
            <a href="/" class="nav-home">← ASH84</a>
        </nav>
    </header>

    <article class="post">
        <header class="post-meta">
            <time class="post-date">2025-07-08</time>
            <h1 class="post-title">이 블로그는 마크다운 기반 정적 블로그로 전환되었습니다.</h1>
            
        </header>

        
        <figure class="post-image">
            <img src="image.png" alt="이 블로그는 마크다운 기반 정적 블로그로 전환되었습니다.">
        </figure>
        

        <div class="post-content">
            <p>몇일 전에 Notion API를 이용해서 노션의 글을 블로그에 자동으로 연동하는 얘기가 나와서 찾아보다가, 개인 블로그를 개편하고 싶은 생각이 들었다. 그동안 나는 개인적으로 2018년부터 meier 툴라는 자체 제작 블로그 툴을 backend는 flask, frontend는 TOAST UI를 이용해서 admin/backoffice도 같이 만들었고 약 7년간 그것을 통해서 블로그 글을 써왔다. 그렇지만 아쉬웠던 것은 처음 만든 이후에 노션과 옵시디언이 나오면서 더 이상 글을 admin에서 쓰지 않고 노션에서 쓰고 markdown 파일을 다운로드 받아서 그 텍스트를 다시 admin에 옮겨서 저장하는 식으로 작업을 해왔다. 물론 admin에는 draft, private 같은 기능들이 있었다. 이건 wordpress, tistory, ghost 등의 블로그 플랫폼에 있는 기능들을 구현한 것이었다. 그렇지만 노션이나 옵시디언 자체가 별도의 CMS이자 글쓰기 도구로 쓰고 있는 상황에서 이걸 굳이 유지해야 하는가에 대한 생각이 들었다.</p>
<h2>지속가능성에 대한 고민</h2>
<p>또 다른 생각은 지속 가능한가? 라는 관점에서의 고민이 있었다. 개발자를 그만두더라도, 다른 일을 하더라도 블로그는 계속할 것 같은데, 물론 블로그를 운영하는 게 개발적으로 어려운 일은 아니지만 AWS 나 다른 플랫폼에 의존하는것도 귀찮고 언젠가 내가 돈을 못 내면 서버가 내려가고 내 글이 인터넷상에서 사라지지 않을까? 상대적으로 GitHub 그리고 markdown 파일이 더 오래 살아남지 않을까 하는 생각이 들었다. 만약 GitHub가 대체되더라도 markdown 파일만은 나에게 남을 테니. 그런 고민들을 하다가 결국 markdown 기반으로 돌아서기로 했다.</p>
<h2>도구의 선택</h2>
<p><a href="https://astro.build/">Astro</a>를 회사 개발 블로그를 만들어서 이번에도 Astro를 먼저 선택했다. 하지만 아쉬운 부분이 theme 시스템이었다. 대부분의 블로그 툴들은 theme를 쉽게 갈아낄 수 있다. 다운로드 받아서 선택하면 된다. 그런데 Astro는 사이트를 만드는 개념이다 보니 theme를 다운로드받아서 사용하는 방식이 아니었다.(모르는 방법이 있을지도) 예전에 회사 개발 블로그는 <a href="https://github.com/danielcgilibert/blog-template">https://github.com/danielcgilibert/blog-template</a> 이걸로 만들었었다. 나는 theme를 직접 만들어 쓰는 편이라 theme를 쉽게 갈아끼는 시스템은 필요했다.</p>
<h2>직접 만들기</h2>
<p><strong>결국 직접 만들기로 결심했다.</strong> 정확히 시작은 금요일 밤이었고, 토요일까지 이어졌다. 풀타임은 아니었고 어차피 운영하던 것이 있으니까 못 만들어도 상관없다고 생각했다. </p>
<h3>구조</h3>
<p><strong>제일 첫번째 고민한 것은 구조였다.</strong> 어디에 글을 보관하고, 어디로 정적 블로그 결과물이 나와야 할까 등등 몇가지 고민을 한 끝에 대략 구조를 잡았다. 구조를 설명하면 다음과 같다.</p>
<ul>
<li>contents가 블로그 글이 실제로 저장되는 디렉토리다. contents 디렉터리 하위에 url path에 해당되는 디렉터리가 있다. 개별 디렉터리가 하나의 포스트(post)의 공간이다. 예를 들어 이 글은 contents/move-to-markdown-based-blog에 위치해 있다. 글마다 디렉터리를 만든 이유는 이미지나 다른 여타의 해당 글에 들어가는 파일들이 다른 디렉터리로 흩어지는 것을 막고 싶었다.</li>
<li>해당 디렉터리 하위에는 해당 디렉터리와 같은 이름의 <code>.md</code> 파일이 있다. 여기에 본문을 쓴다.</li>
<li><code>.md</code> 파일의 최상단에는 아래와 같은 meta 정보를 담는다. 이건 다른 여타의 static generator가 사용하는 방식이고, Astro에서 경험한 부분을 넣었다.</li>
</ul>
<pre><code class="language-txt">---
title: '지속가능한 블로그를 만들기 위한 노력'
author: 'ash84'
pub_date: '2025-07-08'
description: '마크다운 기반의 블로그 만들기'
featured_image: ''
tags: ['blog', 'markdown', 'static generator']
---
</code></pre>
<p>대략 이 정도의 구조를 가지고 있다. 정리해 보니 처음 어떻게 만들지에 대해서 막막하게 생각했던 것보다 나아졌다. </p>
<p><strong>무엇으로 만들것인가에 대한 고민</strong> </p>
<p>static generator를 만들어야 하는데 제일 편한 python으로 작업을 했다. 이번에 회사에서는 잘 안쓰는 <a href="https://docs.astral.sh/uv/">uv</a>, <a href="https://typer.tiangolo.com/">typer</a> 등을 사용해서 contents 디렉터리 내 .md 파일을 읽고 html로 변환하는 작업을 진행했다. 여기서 고민했던 것은 어떤 url path를 지정할 것인가? 였다. 예를 들어 실제 접속하는 url path가 <code>/move-to-markdown-based-blog</code>가 될 수도 있지만 <code>/2025/07/08/move-to-markdown-based-blog</code>가 되게 할 수도 있다. 이 부분에서 많이 고민을 했는데 글을 쓴사람이 직접 지정한 대로 갈 것인가? 아니면 규칙을 만들 것인가?에 대한 고민이 있었고, 날짜를 넣는 방식을 선택했다. 이유는 날짜별로 나중에 다른 부분에서 보여줄 때 더 나을 것 같았다.</p>
<h3>theme</h3>
<p><strong>결국 theme 때문에 이 모든 게 시작이 되었다.</strong> 사실 python을 선택한 건 2가지 이유가 있었는데 첫 번째는 내가 제일 편하고 빠르게 코딩할 수 있어서, 두 번째는 기존 내 블로그가 jinja2 template를 기반으로 되어 있기 때문이었다. 그래서 markdown 기반 정적 블로그를 만들되 기존의 내가 쓰고 있던 jinja2 template 기반의 theme를 가져와서 쓰면 좋겠다는 생각이 들었다. 결국 내가 원하는 건 theme를 만들어서 배치시키고 여러 테마 중에 하나를 선택하기를 원하는 것이다. 그러기 위해서 themes 디렉터리 하위에 사용하려는 테마 디렉터리를 배치하는 방식을 선택했다. themes 디렉터리 하위에 여러 테마가 있다고 하면 결국 블로그 주인은 어떤 것을 현재 테마로 사용할지를 선택해야 하는데 그것을 위해서 config.yaml을 만들었다.</p>
<pre><code class="language-yaml">theme: 
  name: goodnote
blog: 
  title: Ash84
  description: Ash84 Blog 
publication:
  path: ./docs
</code></pre>
<p>위의 config.yaml을 기준으로 설명하면 해당 파일을 읽어서 themes 하위에 <code>goodnote</code>라는 테마를 가져와서 읽어와서 사용한다.</p>
<h3>변환</h3>
<p>config.yaml <code>publication.path</code>에 지정된 디렉터리에 변환된 html 파일들이 들어간다. 최상단에 <code>index.html</code>이 들어간다. 이 부분이 블로그에 들어가면 보는 첫 화면에 해당한다. 그 다음에는 <code>yyyy/mm/dd/xxx/index.html</code> 이렇게 생성을 한다. 그렇게 되면 앞서서 말한 것과 같이 <code>년/월/일/title</code> url path로 접속할 수 있게 된다.</p>
<h3>마이그레이션</h3>
<p>기존의 AWS Lightsail MySQL에 있던 약 1000건의 데이터를 가져와서 contents 디렉터리 하위에 markdown 파일로 넣으면서 동시에 파일 내 상단의 meta 정보를 넣어서 생성하는 작업을 진행했다. 이 부분은 기존 DB에 개별 컬럼으로 title, slug, tag 등이 구분되어 있었고, DDL을 cursor에 주고 바로 작업을 시켜서 쉽게 진행할 수 있었다. </p>
<h3>이사가기</h3>
<p><img alt="images" src="image2.png" /></p>
<p>주말이 지나고 퇴근 후, <strong>드디어 월요일 밤에 기다리던 이사를 시작했다.</strong> 기존 AWS Lightsail에 있었던 DNS Zone을 지우고 Route53에서 A Record 그리고 네임서버들을 설치했다. 기존에 운영되고 있어서 DNS 적용에 계속 시간이 흘렀고, GitHub Page에서 Domain 활성화가 잘 안 되었다. 그동안 사이트가 접속이 되진 않았다. ChatGPT의 도움을 받아서 아래의 명령어를 통해서 잘 전파되고 있는지를 확인했다. 이 부분은 시간이 어느 정도 지나니까 전파가 완료되어서 해소가 되었다. 아직 Lightsail에 있는 instance랑 DB를 내리진 않았다.</p>
<pre><code class="language-shell">&gt; dig NS ash84.io
&gt; dig +trace ash84.io
&gt; dig ash84.io +noall +answer -t A
</code></pre>
<h2>소회</h2>
<p>뭔가 후련하면서도 시원섭섭하다. 영원히 운영할 줄 알았다. 이 세상에 영원한 건 없다는 것을 한 번 더 느꼈다. 그래도 이렇게 몇일만에 전환 할 줄은 몰랐다. 그렇지만 다른 static generator를 사용하지 않고 직접 만들어서 써본 경험은 간만에 느끼는 소소한 재미였다. 코딩하는 재미가 이런 부분에 있었다는 것을 다시 한 번 느꼈다. 별거 아니지만 내 손으로 만드는 것만큼 재밌는 건 없다. 직접 만드는것의 좋은 점은 계속 사용하면서 발전시킬 수 있다는 점이다. 지금은 매우 간단하지만 점점 나한테 필요한 것을 더 추가해 나갈 예정이다.</p>
<h3>관련글</h3>
<ul>
<li><a href="/2020/01/15/support-emoji">내 블로그에 emoji 를 구해줘😱</a></li>
<li><a href="/2018/05/31/renew-blog">블로그 툴 이사</a></li>
</ul>
        </div>
    </article>

    <footer class="post-footer">
        <div class="footer-content">
            <p class="footer-author">Written by <a href="/">ASH84</a></p>
            <p class="footer-copyright">&copy; <script>document.write(new Date().getFullYear())</script></p>
        </div>
    </footer>

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8699046198561974" crossorigin="anonymous"></script>
</body>
</html>