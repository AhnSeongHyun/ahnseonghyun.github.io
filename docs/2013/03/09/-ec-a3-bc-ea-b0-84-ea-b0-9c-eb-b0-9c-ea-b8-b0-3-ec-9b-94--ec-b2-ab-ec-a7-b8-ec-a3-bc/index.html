<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- SEO -->
    <title>#주간개발기, 3월 첫째주 - ASH84</title>
    <meta name="description" content="**exs4j**" />
    <meta name="author" content="ASH84" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://ash84.io/2013/03/09/-ec-a3-bc-ea-b0-84-ea-b0-9c-eb-b0-9c-ea-b8-b0-3-ec-9b-94--ec-b2-ab-ec-a7-b8-ec-a3-bc/" />

    <!-- Open Graph -->
    <meta property="og:site_name" content="ASH84"/>
    <meta property="og:title" content="#주간개발기, 3월 첫째주"/>
    <meta property="og:description" content="**exs4j**"/>
    <meta property="og:url" content="https://ash84.io/2013/03/09/-ec-a3-bc-ea-b0-84-ea-b0-9c-eb-b0-9c-ea-b8-b0-3-ec-9b-94--ec-b2-ab-ec-a7-b8-ec-a3-bc/"/>
    <meta property="og:locale" content="ko_KR"/>
    <meta property="og:type" content="article"/>
    <meta property="article:published_time" content="" />
    <meta property="article:author" content="https://ash84.io/" />
    
    <meta property="article:tag" content="espressoOtr" />
    
    <meta property="article:tag" content="exs4j" />
    
    <meta property="article:tag" content="INDF" />
    
    <meta property="article:tag" content="developer" />
    
    <meta property="article:tag" content="iOS" />
    
    <meta property="article:tag" content="오픈소스" />
    
    <meta property="article:tag" content="weekly-dev" />
    
    
    <meta property="og:image" content="https://ash84.io/assets/og-image.png"/>
    
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@sh84ahn"/>
    <meta name="twitter:creator" content="@sh84ahn"/>
    <meta name="twitter:title" content="#주간개발기, 3월 첫째주"/>
    <meta name="twitter:description" content="**exs4j**"/>
    
    <meta name="twitter:image" content="https://ash84.io/assets/og-image.png"/>
    

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "#주간개발기, 3월 첫째주",
        "description": "**exs4j**",
        "author": {
            "@type": "Person",
            "name": "",
            "url": "https://ash84.io"
        },
        "datePublished": "",
        "dateModified": "",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://ash84.io/2013/03/09/-ec-a3-bc-ea-b0-84-ea-b0-9c-eb-b0-9c-ea-b8-b0-3-ec-9b-94--ec-b2-ab-ec-a7-b8-ec-a3-bc"
        },
        
        "publisher": {
            "@type": "Organization",
            "name": "ASH84"
        }
    }
    </script>

    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-71946262-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-71946262-1');
    </script>

    <!-- Fonts & Styles -->
    <link rel="stylesheet" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.5/dist/web/static/pretendard.css" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>◼</text></svg>">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/github-dark.min.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/post.css"/>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
</head>
<body>
    <header class="post-header">
        <nav class="nav">
            <a href="/" class="nav-home">← ASH84</a>
        </nav>
    </header>

    <article class="post">
        <header class="post-meta">
            <time class="post-date">2013-03-09</time>
            <h1 class="post-title">#주간개발기, 3월 첫째주</h1>
            
            <div class="post-tags">
                
                <a href="/tags/espressoOtr/" class="tag">espressoOtr</a>
                
                <a href="/tags/exs4j/" class="tag">exs4j</a>
                
                <a href="/tags/INDF/" class="tag">INDF</a>
                
                <a href="/tags/developer/" class="tag">developer</a>
                
                <a href="/tags/iOS/" class="tag">iOS</a>
                
                <a href="/tags/오픈소스/" class="tag">오픈소스</a>
                
                <a href="/tags/weekly-dev/" class="tag">weekly-dev</a>
                
            </div>
            
        </header>

        

        <div class="post-content">
            <p><span style="font-size: 11pt;"><strong>exs4j</strong></span></p>
<p><span style="font-size: 11pt;">– DB에 OpenAPI를 이용한 검색 결과를 저장하는 것은 되었고, 저장된 검색 결과의 빠른 검색을 위해서 <a href="https://github.com/AhnSeongHyun/exs4j">exs4j</a> 내에 올려서 유지할 인덱스를 만드는 작업을 하였다. 기존의 <a href="https://github.com/AhnSeongHyun/espressoOtr">espressoOtr</a> 라이브러리 내에 Canister/Shelfer 를 통해서 구현하려고 했는데, 약간 기능이 미흡한 부분이 있어서, Shelfer+Map<String,List> 형태로 인덱스 구조를 잡았다. 그렇게 해서 하나의 검색 결과에 대한 requestCode(유일하게 구분되는 검색 요청 코드)와 검색어를 저장하는 부분까지는 되었다. 해당 부분을 Barista 라고 하는 싱글턴 클래스로 감싸면서 Barista 클래스를 통해서 검색어와 requestCode 를 넣고 빼오는 작업을 할 예정이다.</span></p>
<p><span style="font-size: 11pt;"><strong><a href="https://github.com/AhnSeongHyun/espressoOtr">espressoOtr</a></strong></span></p>
<p><span style="font-size: 11pt;">– <a href="https://github.com/AhnSeongHyun/exs4j">exs4j</a> 로 인해서 기존의 단일 Canister/Shelfer 구조를 다양한 형태로 만들었다. Shelfer의 구조는 거의다 비슷한데 Canister 안에서 List 를 쓰느냐 Map을 쓰느냐, Map에서도 value를 어떤 데이터 타입으로 가지냐에 따라 나누도록 하였다. 사실 좀 아쉬운 부분이긴 한데, 하나의 Shelfer 에서 Canister 인터페이스를 가져와서 사용하는 식으로 했었어야 했는데 그 부분이 좀 아쉽다. 차후에 개선할 방향이기도 하다. <a href="https://github.com/AhnSeongHyun/exs4j">exs4j</a>에 우선적으로 쓰일 MutlMapShelfer, MultiMapCanister 에 대해서는 단위테스트를 작성해서 다양한 버그 및 스페에 못 미치는 부분을 수정하였다. 여타의 다른 Canister/Shelfer도 단위 테스트를 작성해야겠다. </span></p>
<p><span style="font-size: 11pt;">– <a href="http://ash84.tistory.com/943">HtmlExtractor</a>를 만들었는데 이유는 개인적인 여러가지 작업을 해 보니 Html 파싱을 하는 부분이 많았는데 jericho 파서를 사용하는 부분에서 좀더 쉽고 나에게 맞게 사용하고자 static 함수로 빼서 작성하였다. </span></p>
<p><span style="font-size: 11pt;"><strong>아이폰 앱</strong></span></p>
<p><span style="font-size: 11pt;">– 지난주의 작업하고 있던 앱에 대해서 평일에 올렸더니 24시간 만에 연락이 왔다. 또 리젝이 되었다. 문제가 있나 보다. 메모리가 죽는다고 하고, 네트워크 쪽에 문제가 있는것 같다는 생각이 들었다. 네이버 추천검색어+뉴스를 가져오는 부분에서 아이폰이 힘들어 하는 느낌이었다. </span></p>
<p><span style="font-size: 11pt;">– 위의 오류를 해결 하고자, 팀(INDF)내 서버에  해당 역할을 하던 부분은 아이폰에서 떼어내서 자바로 작성해서 JSON으로 리턴해주는 방식으로 변경해서 올렸고 테스트는 마친 상태이다. 아직 아이폰 앱에 대한 수정은 끝나기 않았지만 다음주 평인 중에 올려서 심사를 다시 받을 예정이다. </span></p>
<p><span style="font-size: 11pt;"><strong>INDF 팀 작업</strong></span></p>
<p><span style="font-size: 11pt;">– netty를 이용해서 http 통신을 받아서 처리할 수 있는 부분을 정선생님과 같이 하는 프로젝트에서 작업을 하고 대략 반영을 하였다. 이 작업을 하면서 ChannelPipeline 에 대한 의문이 생겼고 해당 부분에 대해서 공부하고 정리해서 블로그에 올렸다.(<a href="http://ash84.tistory.com/945">여기</a>) 작업을 하면서 점점더 netty 라는 프로젝트에 대해서 호감이 간다. 굉장히 잘 만들었다는 생각도 들었고, 사이트 및 주석을 통해서 지원하고 있는 부분 역시 매력적인것 같다. </span></p>
<p><span style="font-size: 11pt;"><strong>StackOverflow 지원</strong></span></p>
<p><span style="font-size: 11pt;">– netty 에 대한 <a href="http://stackoverflow.com/questions/15180150/reading-xml-data-in-netty-3-6-x/15214867#15214867">stack overflow에 질문</a>이 올라와서 영어로 답변을 달았다. 조금 쑥스럽긴 하짐나 내 나름대로 아는 부분에 대해서 설명해 주었다. 질문인즉, XML 메시지 형태로 Netty를 통해서 주고 받고 하려고 하는데 변환 부분(마샬링)을 물어보는것 같아서 exs4j에서 했던 작업을 토대로 decoder, encoder 작성하고 그 안에서 JAXB로 당신이 쓸 자바 클래스로 변환해 주라고 답변을 달았다. 별 다른 답변 채택을 안해주긴 했는데, 종종 달아야 겠다는 생각이 들었다. 실제로 여러가지 이슈를 보면서 netty 에 대해서 새롭게 알게되는 부분이 많아서 좋았다. 특히 beta4.x 를 내놓으면서 많은 분들이 테스트해 주시고 버그나 문의를 stack overflow에 하고 있는것 같았다. </span></p>
<p><span style="font-size: 11pt;">전반적으로 이번주는 <a href="https://github.com/AhnSeongHyun/espressoOtr">espressoOtr</a> 쪽 작업이 많았는데 그 이유는 단연 <a href="https://github.com/AhnSeongHyun/exs4j">exs4j</a>의 인덱스 작업을 위해서 였다. 아직 반 밖에 완성하진 못했지만 다음주에는 일단 <a href="https://github.com/AhnSeongHyun/exs4j">exs4j</a> 현재 구조에 대해서 상세하게 그려보는 시간을 가질 것 같다. 그리고 나서  인덱스에서 가져와서 DB 에서 검색결과 가져오는 부분을 구현 해봐야 할것 같다. </span></p>
        </div>
    </article>

    <footer class="post-footer">
        <div class="footer-content">
            <p class="footer-author">Written by <a href="/">ASH84</a></p>
            <p class="footer-copyright">&copy; <script>document.write(new Date().getFullYear())</script></p>
        </div>
    </footer>

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8699046198561974" crossorigin="anonymous"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>